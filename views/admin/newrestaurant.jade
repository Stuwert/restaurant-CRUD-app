extends ../admin

block body
  form.form(method='post' action= restaurant ? '/admin/restaurants/' + restaurant.id + '/edit' : '/admin/restaurants')
    h3.labelform= restaurant ? 'Update Restaurant' : 'New Restaurant'
    label Name 
    input(type="text" name="name" placeholder='Restaurant Name' value=restaurant ? restaurant.name : "") 
    label Street Address
    input(type='text' name='address' placeholder='Address' value=restaurant ? restaurant.street1 : "")
    label Location
    input(type='text' name='city' placeholder='City' value= restaurant ? restaurant.city : "")
    select(name='state')
      for val, index in states
        if restaurant && index == states.indexOf(restaurant.state)
            option(value= val selected='selected')= val
          else
            option(value= val)= val
    label Neighborhood
    select(name='neighborhood_id')
      each val, index in neighborhoods
        if restaurant && restaurant.neighborhood_id == val.id
          option(value= val.id selected)= val.name
        else
          option(value= val.id)= val.name
    label Cuisine  
    select(name='cuisine')
      for val, index in cuisine
        if restaurant && index == cuisine.indexOf(restaurant.cuisine)
            option(value= val selected='selected')= val
          else
            option(value= val)= val
    label Image
    input(type='text' name='img' value= restaurant ? restaurant.img : "" placeholder='Image URL')
    textarea(cols='40', rows='8', name='description' placeholder='Short bio')= restaurant ? restaurant.description : ""
    div.buttons
      button.green(type='submit') 
        a= restaurant ? 'Update' : 'Create'
      button.red 
        a(href= restaurant ? '/admin/restaurants/' + restaurant.id : "/admin") Cancel
